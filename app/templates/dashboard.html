<h2>ë°ì´í„° í’ˆì§ˆ ëª¨ë‹ˆí„°ë§ Dashboard</h2>
<hr>

<div class="alert alert-warning">
    ğŸ“Œ í˜„ì¬ í‘œì‹œí•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. MySQL ë°ì´í„° ì¤€ë¹„ í›„ ì—°ê²°í•˜ì„¸ìš”.
</div>

<canvas id="tableChart" height="100"></canvas>

<h4 class="mt-4">í…Œì´ë¸” ì˜¤ë¥˜ ìƒì„¸</h4>
<table id="detailTable" class="table table-striped">
    <thead>
        <tr>
            <th>í…Œì´ë¸”ëª…</th>
            <th>ì˜¤ë¥˜ê±´ìˆ˜</th>
            <th>ì •ìƒê±´ìˆ˜</th>
        </tr>
    </thead>
    <tbody>
        <!-- ë°ì´í„° ì—†ì„ ë•Œ í‘œì‹œ -->
    </tbody>
</table>

<script>
    // ë°ì´í„° ë¹„ì—ˆìœ¼ë©´ ì°¨íŠ¸ ì•ˆë³´ì—¬ì¤Œ
    const tableData = {{ table_json | safe }};
    if (tableData.length > 0) {
        const labels = tableData.map(x => x.table_name);
        const values = tableData.map(x => x.error_cnt);

        new Chart(document.getElementById('tableChart'), {
            type: "bar",
            data: { labels: labels, datasets: [{ data: values }] }
        });
    }
</script>

